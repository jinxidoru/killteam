(this.webpackJsonpkillteam=this.webpackJsonpkillteam||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(10),o=n.n(r),s=(n(17),n(18),n(4)),c=n(2),l=n(11),u=1,d=void 0;function h(e,t,n,a){var i={name:e,clan_label:n,units:[]},r=a.length>0?a.split(/, /g):[],o=function(e,n,a,o,s,c,l,d){if("+"===d){var h=i.units[i.units.length-1];d="="+h.keywords.join(", ").replace(h.name.toLowerCase(),e.toLowerCase())}var f=r.concat(d.split(/, /g));"="===d[0]&&(f=d.substr(1).split(/, /g));for(var p=arguments.length,b=new Array(p>8?p-8:0),m=8;m<p;m++)b[m-8]=arguments[m];var j=b.filter((function(e){return 0===e[0]||1===e[0]})).map((function(e){var t=e[1].replace(/ \|.*$/,"");return{name:e[1],uname:t,type:e[0]?"m":"r",atk:e[2],ws:e[3],dam:e[4],cdam:e[5],sr:e[6]||null,cr:e[7]||null,secondary:e[8]?e[8][1]:null}})),v=b.filter((function(e){return 3===e[0]})).map((function(e){return{name:e[1],cost:e[2],descr:e[3]}})),g=b.filter((function(e){return 2===e[0]})).map((function(e){return{name:e[1],descr:e[2]||"",on_weapon:e[1].endsWith("*")}})),O=u++,x={id:O,name:e,faction:t,keywords:f,move:n,apl:a,ga:o,df:s,sv:c,hp:l,weapons:j,actions:v,abilities:g};return i.units.push(x),x};return{faction:i,unit:o,unit2:function(e,t){for(var n=i.units[i.units.length-1],a=n.move,r=n.apl,s=n.ga,c=n.df,l=n.sv,u=n.hp,d=arguments.length,h=new Array(d>2?d-2:0),f=2;f<d;f++)h[f-2]=arguments[f];return o.apply(void 0,[e,a,r,s,c,l,u,t].concat(h))}}}function f(e,t,n,a,i){var r=h(e,t,n,a);return i.forEach((function(e){var t=Object(l.a)(e),n=t[0],a=t[1],i=t[2],o=t[3],c=t[4],u=t[5],d=t[6],h=t[7],f=t.slice(8);r.unit.apply(r,[n,a,i,o,c,u,d,h].concat(Object(s.a)(f)))})),r.faction}var p=[2,"Icon Bearer","When determining control of an objective marker, treat this operative's APL as being 1 higher. Note that this is not a modifier. In narrative play, this is cumulative with the Focused Battle Honour (see the Kill Team Core Book)."];var b={tau:function(){var e=[3,"Markerlight",1,"See page 137"],t=[2,"Camouflage Field","Each time an enemy operative makes a shooting attack, unless it is within @0 of this operative or it is a subsequent attack made as a result of the Blast special rule, this operative is always treated as being in Cover for that shooting attack. While this operative has a Conceal order, it is always treated as having a Conceal order, regardless of any other rules (e.g. Vantage Point)."],n=h("T'au Empire","hunter cadre","sept","t,au, <>");n.unit("Fire warrior shas'la",3,2,1,3,4,7,"fire warrior, shas'la",[0,"Pulse blaster | Close range",4,4,4,5,"Rng @6, AP1"],[0,"Pulse blaster | Long range",4,4,3,4],[0,"Pulse carbine",4,4,4,5],[0,"Pulse rifle",4,4,4,5],[1,"Gun butt",3,5,2,3],e,t),n.unit("Fire warrior shas'ui",3,2,1,3,4,8,"leader, fire warrior, shas'ui",[0,"Pulse blaster | Close range",4,3,4,5,"Rng @6, AP1"],[0,"Pulse blaster | Long range",4,3,3,4],[0,"Pulse carbine",4,3,4,5],[0,"Pulse rifle",4,3,4,5],[1,"Gun butt",3,5,2,3]),n.unit("Pathfinder shas'la",3,2,1,3,5,7,"pathfinder, shas'la",[0,"Pulse carbine",4,4,4,5],[1,"Gun butt",3,5,2,3]),n.unit("Pathfinder (heavy gunner)",3,2,1,3,5,7,"pathfinder, heavy gunner",[0,"Ion rifle | Standard",5,4,4,5,"","P1"],[0,"Ion rifle | Overcharge",5,4,5,6,"AP1, Hot"],[0,"Rail Rifle",4,4,4,4,"AP1, Lethal 5+","MW2"],[1,"Gun butt",3,5,2,3]),n.unit("Pathfinder shas'ui",3,2,1,3,5,8,"leader, pathfinder, shas'ui",[0,"Pulse carbine",4,3,4,5],[1,"Gun butt",3,5,2,3],e),n.unit("Stealth battlesuit shas'ui",3,2,1,3,3,10,"fly, stealth battlesuit, shas'ui",[0,"Burst cannon",6,4,3,4,"Ceaseless, Fusillade"],[0,"Fusion blaster",4,4,6,3,"Rng @6, AP2","MW4"],[1,"Fists",4,5,2,3],t),n.unit("Stealth battlesuit shas'vre",3,2,1,3,3,11,"fly, leader, stealth battlesuit, shas'vre",[0,"Burst cannon",6,3,3,4,"Ceaseless, Fusillade"],[0,"Fusion blaster",4,4,6,3,"Rng @6, AP2","MW4"],[1,"Fists",4,4,2,3],t);var a=[[1,"Ram",3,5,2,3],[2,"Artificial Intelligence","see page 137"],[2,"Saviour Protocols","see page 137"]];return n.unit.apply(n,["MV1 gun drone",3,2,1,3,4,7,"drone, fly, mv1 gun drone",[0,"Twin pulse carbine",4,4,4,5,"Relentless"]].concat(a)),n.unit2.apply(n,["MV4 shield drone","+"].concat(a,[[2,"Shield Generator","This operative has a 4+ invulnerable save. Each time this operative would lose a wound that is not as a result of a mortal wound, roll one D6: on a 5+, that wound is not lost"]])),n.unit2.apply(n,["MV36 guardian drone","+"].concat(a,[[2,"Guardian Shield Generator","This operative has a 5+ invulnerable save."],[3,"Guardian Field",1,"Until this operative is next activated, while a friendly HUNTER CADRE operative is within @3 of this operative, it has a 5+ invulnerable save."]])),n.unit2.apply(n,["MV31 pulse accelerator drone","+"].concat(a,[[2,"Pulse Accelerator","While a friendly HUNTER CADRE operative is within @3 of this operative, pulse weapons that friendly operative is equipped with are accelerated. While a pulse weapon is accelerated, each time a shooting attack is made with it, in the Rolll Attack Dice step of that shooting attack, before rolling your attack dice, you can retain one as a successful normal hit without rolling it. A pulse weapon is a ranged weapaon that includes the word 'pulse' in its name, e.g. pulse carbine."]])),n.unit2.apply(n,["MV33 grav-inhibitor drone","+"].concat(a,[[2,"Grav-inhibitor","Each time an enemy operative performs a Charge action, if it would move within @6 of this operative, only add @1 to the additional distance it can move, instead of @2. Each time an enemy operative performs a Dash action, if it would move within @6 of this operative, it can only move up to @2, instead of up to @3"],[3,"Grav-wave",1,"Place a grav-wave token within @6 of and Visible to this operative. Until the start of this operative's next activation, while a friendly HUNTER CADRE operative is within @2 of the centre of that token, it can perform Fall Back actions for one less AP (to a minimum of 0AP)."]])),n.unit2.apply(n,["MV7 marker drone","+"].concat(a,[e])),n.unit.apply(n,["MB3 recon drone",3,2,1,4,4,12,"+",[0,"Burst cannon",6,4,3,4,"Heavy, Ceaseless, Fusillade"]].concat(a,[[3,"Analyse",1,"Select one enemy operative Visible to this operative, then select one other ready friendly HUNTER CADRE operative that is not within Engagement Range of enemy operatives. After this operative's activation ends, you can activate that other friendly operative, and during its next activation, each time it makes a shooting attack against that enemy operative, in the Roll Attack Dice step of that shooting attack, you can re-roll any or all of your attack dice. This operative cannot perform this action while within Engagement Range of enemy operatives"]])),n.unit("DS8 tactical support turret",0,1,1,4,4,9,"+",[0,"Missile pod",4,4,5,7,"Heavy"],[0,"Smart missile system",6,4,3,4,"Heavy, Smart Targeting*"],a[1],a[2],[2,"Smart Targeting*","Each time this operative makes a shooting attack with this weapon, you can use this special rule. If you do so, for that shooting attack:\n - Enemy operatives with an Engage order that are not within Engagement Range of friendly operatives are valid targets and cannot be in Cover.\n - In the Roll Attack Dice step of that shooting attack, attack dice results of 6 are successful normal hits. All other attack dice results are failed hits."],[2,"Support Turret","This operative cannot have a Conceal order and can only perform Shoot and Overwatch actions. It cannot fight in combat (do not select a weapon or roll any attack dice for it) and cannot provide combat support."]),n.faction}(),space_marine:f("Space Marines","space marine","chapter","imperium, adeptus astartes, <>",[["Intercessor (warrior)",3,3,1,3,3,13,"primaris, intercessor, warrior",[0,"Auto bolt rifle",4,3,3,4,"Ceaseless"],[0,"Bolt rifle",4,3,3,4,d,"P1"],[0,"Stalker bolt rifle",4,3,3,4,"Heavy, AP1"],[1,"Fists",4,3,3,4]],["Intercessor sergeant",3,3,1,3,3,14,"primaris, leader, intercessor, sergeant",[0,"Auto bolt rifle",4,2,3,4,"Ceaseless"],[0,"Bolt pistol",4,2,3,4,"Rng @6"],[0,"Bolt rifle",4,2,3,4,"","P1"],[0,"Hand flamer",4,2,2,2,"Rng @6, Torrent @1"],[0,"Plasma Pistol | Standard",4,2,5,6,"Rng @6, AP1"],[0,"Plasma Pistol | Supercharge",4,2,5,6,"Rng @6, AP2, Hot"],[0,"Stalker bolt rifle",4,2,3,4,"Heavy, A:1"],[1,"Chainsword",4,3,4,5],[1,"Fists",4,3,3,4],[1,"Power fist",4,4,5,7,"Brutal"],[1,"Power weapon",4,3,4,6,"Lethal 5+"],[1,"Thunder hammer",4,4,5,6,"","Stun"]]]),ork:function(){var e=[2,"Kombi*","An operative equipped with this weapon is also equipped with a shoota."];return f("Orks","greenskin","clan","ork, <>",[["Boy (fighter)",3,2,1,3,5,10,"boy, fighter",[0,"Shoota",4,5,3,4],[0,"Slugga",4,5,3,4,"Rng @6"],[1,"Choppa",4,3,4,5],[1,"Fists",3,3,3,4]],["Boss Nob",3,2,1,3,4,13,"leader, boy, boss nob",[0,"Kombi-rokkit",5,5,4,5,"Kombi*, Limited, AP1","Splash 1"],[0,"Kombi-skorcha",6,2,2,2,"Kombi*, Limtied, Rng @6, Torrent @1"],[0,"Shoota",4,5,3,4,d,d,e],[0,"Slugga",4,5,3,4,"Rng @6"],[1,"Big choppa",4,2,5,6],[1,"Choppa",4,2,4,5],[1,"Fists",3,2,3,4],[1,"Killsaw",4,3,5,7,d,"Rending"],[1,"Power klaw",4,3,5,7,"Brutal"],e],["Boy (gunner)",3,2,1,3,5,10,"boy, gunner",[0,"Big shoota",6,5,2,3,"Fusillade"],[0,"Rokkit launcha",5,5,4,5,"AP1","Splash 1"],[1,"Fists",3,3,3,4]],["Gretchin",3,2,2,3,6,5,"boy, gretchin",[0,"Gretchin blasta",3,4,2,3,"Rng @6"],[1,"Gretchin knife",3,5,1,2],[2,"Runt","This operative cannot be equipped with equipment. This operative cannot benefit from your Strategic and Tactical Ploys."]],["Clan kommando (fighter)",3,2,1,3,5,10,"clan kommando, fighter",[0,"Slugga",4,5,3,4,"Rng @6"],[1,"Choppa",4,3,4,5]],["Clan kommando nob",3,2,1,3,4,13,"leader, clan kommando, kommando nob",[0,"Slugga",4,4,3,4,"Rng @6"],[1,"Choppa",4,2,4,5],[1,"Power klaw",4,3,5,7,"Brutal"]],["Burna boy",3,2,1,3,5,10,"speshulist, burna boy",[0,"Burna",5,2,2,2,"Rng @6, Torrent @1"],[1,"Fists",3,3,3,4]],["Loota",3,2,1,3,5,10,"speshulist, loota",[0,"Deffgun",5,5,4,6],[1,"Fists",3,3,3,4]],["Spanner",3,2,1,3,5,11,"leader, speshulist, spanner",[0,"Big shoota",6,4,2,3,"Fusillade"],[0,"Kustom mega-blasta",4,4,5,6,"AP2, Hot"],[0,"Rokkit launcha",5,4,4,5,"AP1","Splash 1"],[1,"Fists",3,3,3,4]]])}(),death_guard:function(){var e="chaos, bubonic astartes, <>",t="".concat(e,", plague marine"),n=[2,"Disgustingly Resilient","Each time this operative would lose a wound, roll one 06: on a 5+, that wound is not lost. Other than the effects of Battle Scars, this operative cannot be injured."];return f("Death Guard","death guard","company","",[["Plague marine (warrior)",2,3,1,3,3,12,"".concat(t,", warrior"),[0,"Boltgun",4,3,3,4],[1,"Plague knife",3,3,3,5],n],["Plague marine (gunner)",2,3,1,3,3,12,"".concat(t,", gunner"),[0,"Meltagun",4,3,6,3,"Rng @6, AP2","MW4"],[0,"Plague belcher",5,2,2,3,"Rng @6, Torrent @1"],[0,"Plasma gun | Standard",4,3,5,6,"AP1"],[0,"Plasma gun | Supercharge",4,3,5,6,"AP2, Hot"],[1,"Plague knife",3,3,3,5],n],["Plague marine (heavy gunner)",2,3,1,3,3,12,"".concat(t,", heavy gunner"),[0,"Blight launcher",4,3,4,6,"AP1"],[0,"Plague spewer",6,2,2,3,"Rng @6, Torrent @1"],[1,"Plague knife",3,3,3,5],n],["Plague marine (fighter)",2,3,1,3,3,12,"".concat(t,", fighter"),[0,"Bolt pistol",4,3,3,4,"Rng @6"],[1,"Bubotic axe",5,3,4,6,d,"Rending"],[1,"Flail of corruption",5,3,4,5,d,"Reap 2"],[1,"Great plague cleaver",5,4,5,7,d,"Rending"],[1,"Mace of contagion",5,3,4,5,d,"Stun"],[1,"Plague knives",5,3,3,5,"Relentless"],n],["Plague marine (icon bearer)",2,3,1,3,3,12,"".concat(t,", icon bearer"),[0,"Boltgun",4,3,3,4],[1,"Plague knife",3,3,3,5],n,p,[3,"Icon of Decay",1,"Until the end of the Turning Point, while this operative is Visible to and within @3 of a friendly BUBONIC ASTARTES operative, that friendly operative is invigorated by decay. While an operative is invigorated by decay, when rolling for its Disgustingly Resilient ability, you can re-roll results of 1 and 2."]],["Plague marine champion",3,3,1,3,3,13,"".concat(e,", leader, plague marine, champion"),[0,"Boltgun",4,2,3,4],[0,"Bolt pistol",4,2,3,4,"Rng @6"],[0,"Plasma pistol | Standard",4,2,5,6,"Rng @6, AP1"],[0,"Plasma pistol | Supercharge",4,2,5,6,"Rng @6, AP2, Hot"],[1,"Plague knife",5,2,3,5],[1,"Plague sword",5,2,4,6],[1,"Power fist",5,3,5,7,"Brutal"]],["Poxwalker",2,2,2,3,6,7,"chaos, poxwalker",[1,"Improvised weapon",4,4,2,3],n,[2,"Mindless","Each time this operative would perform a mission action or the Pick Up action, you must subtract one additional AP to do so. This operative cannot be equipped with equipment. In narrative play, it cannot gain (or lose) experience and automatically passes Casualty tests."]]])}(),ecclesiarchy:function(){var e="imperium, adeptus ministorum, adepta sororitas, <>",t="".concat(e,", battle sister"),n=[2,"Combi*","An operative equipped with this weapon is also equipped with a boltgun."];return f("Ecclesiarchy","ecclesiarchy","order","",[["Battle sister (warrior)",3,2,1,3,3,8,"".concat(t,", warrior"),[0,"Boltgun",4,3,3,4],[1,"Gun butt",3,4,2,3]],["Battle sister (icon bearer)",3,2,1,3,3,8,"".concat(t,", icon bearer"),[0,"Boltgun",4,3,3,4],[1,"Gun butt",3,4,2,3],p,[3,"Icon of Purity",1,"Until the end of the Turning Point, while this operative is Visible to and within @3 of a friendly ADEPTA SORORITAS operative, that friendly operative is inspired by purity. While an operative is inspired by purity, each time it fights in combat or makes a shooting attack, in the Roll Attack Dice step of that combat or shooting attack, you can retain one of your attack dice results of 5+ that is a successful hit as a critical hit."]],["Battle sister (gunner)",3,2,1,3,3,8,"".concat(t,", gunner"),[0,"Meltagun",4,3,6,3,"Rng @6, AP2","MW4"],[0,"Ministorum flamer",5,2,2,3,"Rng @6, Torrent @2"],[0,"Storm bolter",4,3,3,4,"Relentless"],[1,"Gun butt",3,4,2,3]],["Battle sister (heavy gunner)",3,2,1,3,3,8,"".concat(t,", heavy gunner"),[0,"Heavy bolter",5,3,4,5,"Heavy, Fusillade","P1"],[0,"Ministorum heavy flamer",6,2,2,3,"Heavy, Rng @6, Torrent @2"],[1,"Gun butt",3,4,2,3]],["Battle sister superior",3,2,1,3,3,9,"".concat(e,", leader, battle sister, superior"),[0,"Bolt pistol",4,2,3,4,"Rng @6"],[0,"Boltgun",4,2,3,4,d,d,n],[0,"Combi-melta",4,2,6,3,"Combi*, Rng @6, AP2, Limited","MW4"],[0,"Combi-plasma | Standard",4,2,5,6,"Combi*, AP1, Limited"],[0,"Combi-plasma | Overcharge",4,2,5,6,"Combi*, AP2, Hot, Limited"],[0,"Condemnor boltgun",4,2,3,3,"Combi*, Silent, Limited","MW1, P1"],[0,"Inferno pistol",4,2,5,3,"Rng @3, AP2","MW3"],[0,"Ministorum combi-flamer",5,2,2,3,"Combi*, Rng @6, Torrent @2, Limited"],[0,"Ministorum hand flamer",4,2,2,3,"Rng @6, Torrent @1"],[0,"Plasma pistol | Standard",4,2,5,6,"Rng @6, AP1"],[0,"Plasma pistol | Supercharge",4,2,5,6,"Rng @6, AP2, Hot"],[1,"Chainsword",4,2,3,4],[1,"Gun butt",3,3,2,3],[1,"Power maul",4,2,4,5,d,"Stun"],[1,"Power weapon",4,2,4,6,"Lethal 5+"],n],["Sister repentia",3,2,1,3,6,7,"".concat(e,", sister, repentia"),[1,"Penitent eviscerator",4,4,5,6,"Brutal","Reap 2"],[2,"Solace in Anguish","Each time this operative would lose a wound, roll one D6: on a 5+, that wound is not lost."]],["Repentia superior",3,2,1,3,3,9,"".concat(e,", leader, repentia, superior"),[0,"Neural whips",5,3,2,3,"Lethal 5+, Rng @3","Stun"],[1,"Neural whips",5,3,2,3,"Lethal 5+","Stun"],[3,"Whip Into Fury",1,"Select on friendly SISTER REPENTIA operation within @3 of and Visible to this operative. Add 1 to that friendly operative's Movement characteristic"]],["Arco-flagellant",3,2,1,3,6,10,"imperium, adeptus ministorum, arco-flagellant",[1,"Arco-flails",5,3,3,4,"Ceaseless","Reap 1"],[2,"Berserk Killing Machine","Each time this operative would lose a wound, roll one D6: on a 5+, that wound is not lost. This operation cannot perform mission actions or Pick Up actions. Unless otherwise specified, this operative cannot be equipped with equipment."]]])}()};var m={factions:b,random_faction:function(){return Object.keys(b).sort((function(){return Math.random()-.5}))[0]}},j=n(12);function v(e){e="kt_".concat(e);try{var t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(n){}return null}function g(e,t){var n=v(e);return n||(O(e,t),t)}function O(e,t){e="kt_".concat(e),localStorage.setItem(e,JSON.stringify(t))}function x(e){if(e){var t,n=m.factions[e.faction].units,a=Object(j.a)(e.units);try{var i=function(){var e=t.value,a=n.find((function(t){return t.name===e.unit.name}));a&&(e.unit=a)};for(a.s();!(t=a.n()).done;)i()}catch(r){a.e(r)}finally{a.f()}}return e}var y=n(0);function w(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],i=t[1],r=function(e,t){var n=Object(a.useState)(e),i=Object(c.a)(n,2),r=i[0],o=i[1];return[r,function(e){o(e),t(e)}]}(x(v("autosave")),(function(){return i(0)})),o=Object(c.a)(r,2),s=o[0],l=o[1],u=function(){return i(0)},d=Object(y.jsx)(y.Fragment,{});s&&(d=Object(y.jsx)(P,{roster:s,onNew:function(){return i(1)},onLoad:function(){return i(2)}}));var h=E(!s||1===n,Object(y.jsx)(k,{onCreate:l,onCancel:u})),f=E(2===n,Object(y.jsx)(N,{onLoad:l,onCancel:u}));return Object(y.jsxs)(y.Fragment,{children:[d,h,f]})}function k(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)((function(){return m.random_faction()})),s=Object(c.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)(""),h=Object(c.a)(d,2),f=h[0],p=h[1],b=m.factions[l].clan_label;return Object(y.jsx)(B,{children:Object(y.jsxs)("div",{className:"kt-create",children:[Object(y.jsx)("div",{children:"Faction:"}),Object(y.jsx)("div",{children:Object(y.jsx)("select",{value:l,onChange:function(e){return u(e.target.value)},children:Object.entries(m.factions).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(y.jsx)("option",{value:n,children:a.name},n)}))})}),Object(y.jsx)("div",{children:"Name:"}),Object(y.jsx)("div",{children:Object(y.jsx)("input",{value:i,onChange:function(e){return r(e.target.value)}})}),Object(y.jsxs)("div",{style:{textTransform:"capitalize"},children:[b,":"]}),Object(y.jsx)("div",{children:Object(y.jsx)("input",{value:f,onChange:function(e){return p(e.target.value)}})}),Object(y.jsxs)("div",{className:"buttons",children:[E(!!e.onCancel,Object(y.jsx)("button",{onClick:e.onCancel,children:"Cancel"})),Object(y.jsx)("button",{onClick:function(){e.onCreate({name:i.trim(),faction:l.trim(),clan:f.trim(),units:[],created:new Date,updated:new Date})},disabled:!i.trim()||!f.trim(),children:"Create"})]})]})})}function P(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(!1),l=Object(c.a)(o,2),u=l[0],d=l[1],h=e.roster,f=h.units;!function(e){e.updated=new Date,O("autosave",e)}(h);var p,b=m.factions[h.faction],j=(p=function(){var e=function(e){r(null),d(!1);var t=f.findIndex((function(e){return e===i}));-1===t?f.push(e):f[t]=e},t=function(e){if(r(null),d(!1),e){var t=f.findIndex((function(e){return e===i}));-1!==t&&f.splice(t,1)}};return i?Object(y.jsx)(A,{onSave:e,onCancel:t,faction:h.faction,conf:i}):Object(y.jsx)(A,{onSave:e,onCancel:t,faction:h.faction})},!!i||u?p():null);return Object(y.jsxs)("div",{children:[j,Object(y.jsxs)("div",{className:"kt-controls",children:[Object(y.jsx)("button",{onClick:e.onNew,children:"New"}),Object(y.jsx)("button",{onClick:function(){return function(e){var t,n=g("saves",[]),a=n.find((function(t){return t.name===e.name&&t.faction===e.faction}));a||(a={id:Math.max.apply(Math,[0].concat(Object(s.a)(n.map((function(e){return e.id})))))+1,name:e.name,faction:e.faction},n.push(a),O("saves",n)),O("save_".concat(null===(t=a)||void 0===t?void 0:t.id),e)}(h)},children:"Save"}),Object(y.jsx)("button",{onClick:e.onLoad,children:"Load"}),Object(y.jsx)("button",{onClick:function(){return d(!0)},children:"Add Operative"})]}),Object(y.jsxs)("div",{className:"kt-roster",children:[Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("b",{children:"Name"})," ",h.name,Object(y.jsx)("br",{}),Object(y.jsx)("b",{children:"Faction"})," ",b.name,Object(y.jsx)("br",{}),Object(y.jsx)("b",{children:b.clan_label})," ",h.clan]}),Object(y.jsxs)("div",{className:"body",children:[Object(y.jsx)("div",{children:f.map((function(e,t){return Object(y.jsx)(S,{clan:h.clan,conf:e,onEdit:function(){return r(e)}},t)}))}),Object(y.jsx)(R,{units:f})]})]})]})}function S(e){var t=e.conf,n=t.unit,a=n.keywords.map((function(t){return", ".concat("<>"===t?e.clan:t)})),i=n.weapons.filter((function(e){return e.uname===t.ranged||e.uname===t.melee})),r=function(e){return!!i.find((function(t){return t.sr&&-1!==t.sr.indexOf(e)}))},o=n.weapons.filter((function(e){return null!==e.secondary&&r(e.secondary)||e.uname===t.ranged||e.uname===t.melee})),s=n.abilities.filter((function(e){return!e.on_weapon||r(e.name)})),c=n.move>0?Object(y.jsxs)(y.Fragment,{children:[n.move,Object(y.jsx)("span",{className:"ktg-m2"})]}):Object(y.jsx)(y.Fragment,{children:"-"});return Object(y.jsxs)("div",{className:"kt-data-card",children:[Object(y.jsx)("button",{className:"edit",onClick:e.onEdit,children:"EDIT"}),Object(y.jsxs)("div",{className:"name",children:[t.count?"( ".concat(t.count," ) "):"","\xa0",n.name]}),Object(y.jsxs)("div",{className:"keywords",children:[Object(y.jsx)("b",{children:n.faction}),a]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"stats topline",children:[Object(y.jsx)("b",{children:"M"})," ",c," ",Object(y.jsx)("b",{children:"APL"})," ",n.apl," ",Object(y.jsx)("b",{children:"GA"})," ",n.ga," ",Object(y.jsx)("b",{children:"DF"})," ",n.df," ",Object(y.jsx)("b",{children:"SV"})," ",n.sv,"+ ",Object(y.jsx)("b",{children:"W"})," ",n.hp]}),o.map((function(e,t){return Object(y.jsxs)("div",{className:"weapon",children:[Object(y.jsxs)("div",{className:"wname",children:[Object(y.jsx)("div",{className:e.type}),e.name," \xa0\xa0"]}),Object(y.jsxs)("div",{className:"stats ",children:[Object(y.jsx)("b",{children:"A"})," ",e.atk," ",Object(y.jsx)("b",{children:"r"===e.type?"BS":"WS"})," ",e.ws,"+ ",Object(y.jsx)("b",{children:"D"})," ",e.dam,"/",e.cdam,Object(y.jsx)("br",{}),e.sr?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("b",{children:"SR"})," "]}):null,C(e.sr||""),e.cr?Object(y.jsxs)(y.Fragment,{children:[" ",Object(y.jsx)("b",{children:"!"})," ",e.cr," "]}):null]})]},t)})),n.actions.map((function(e,t){return Object(y.jsxs)("div",{className:"extra",children:[Object(y.jsx)("div",{className:"i-action"}),Object(y.jsxs)("span",{children:[e.name," - ",e.cost," AP"]}),Object(y.jsxs)("span",{className:"descr",children:[" - ",C(e.descr)]})]},t)})),s.map((function(e,t){return Object(y.jsxs)("div",{className:"extra",children:[Object(y.jsx)("div",{className:"i-ability"}),Object(y.jsx)("span",{children:e.name}),Object(y.jsxs)("span",{className:"descr",children:[" - ",C(e.descr)]})]},t)}))]})]})}function C(e){return Object(s.a)(e.matchAll(/([^@\n]+|@.|\n)/g)).map((function(e,t){var n=Object(c.a)(e,1)[0];if("@"===n[0]){var a="ktg-m".concat(n[1]);return Object(y.jsx)("span",{className:a},t)}return"\n"===n?Object(y.jsx)("br",{},t):Object(y.jsx)("span",{children:n},t)}))}function R(e){var t=e.units,n=0,a=t.map((function(e){var t=e.unit,a=e.count;return Object(y.jsxs)("div",{className:"unit",children:[Object(y.jsx)("div",{className:"name",children:t.name}),T(a).map((function(e){return Object(y.jsxs)("div",{className:"pips",children:[T(Math.ceil(t.hp/2)).map((function(){return"O"})).join(""),"\xa0\xa0",T(Math.floor(t.hp/2)).map((function(){return"O"})).join("")]},n++)}))]},n++)}));return Object(y.jsx)("div",{className:"kt-dam-track",children:a})}function A(e){var t,n,i=e.conf,r=!!i,o=Object(a.useRef)(i?"".concat(i.count):"0"),s=Object(a.useRef)(i?i.ranged:""),l=Object(a.useRef)(i?i.melee:""),u=Object(a.useState)(0),d=Object(c.a)(u,2),h=d[0],f=d[1],p=Object(a.useState)(null===i||void 0===i?void 0:i.unit),b=Object(c.a)(p,2),j=b[0],v=b[1];if(!i){var g=m.factions[e.faction].units,O=function(e){f(e),v(g.find((function(t){return t.id===e})))};g.length&&!g.find((function(e){return e.id===h}))&&O(g[0].id),t=Object(y.jsx)(y.Fragment,{children:g.length?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:"Unit:"}),Object(y.jsx)("div",{children:Object(y.jsx)("select",{value:h,onChange:function(e){return O(~~e.target.value)},children:g.map((function(e){return Object(y.jsx)("option",{value:e.id,children:e.name},e.id)}))})})]}):null})}if(j){var x=j.weapons.filter((function(e){return!e.secondary})),w=M("r",x),k=M("m",x);n=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:"Count:"}),Object(y.jsx)("div",{children:Object(y.jsx)(F,{value:o,values:T(10).map((function(e){return"".concat(e+1)}))})}),Object(y.jsx)("div",{children:"Ranged:"}),Object(y.jsx)("div",{children:Object(y.jsx)(F,{value:s,values:w})}),Object(y.jsx)("div",{children:"Melee:"}),Object(y.jsx)("div",{children:Object(y.jsx)(F,{value:l,values:k})})]})}return Object(y.jsx)(B,{children:Object(y.jsxs)("div",{className:"kt-unit-editor",children:[t,n,Object(y.jsxs)("div",{className:"buttons",children:[Object(y.jsx)("button",{onClick:function(){return e.onCancel(!1)},children:"Cancel"}),E(r,Object(y.jsx)("button",{onClick:function(){return e.onCancel(!0)},children:"Delete"})),Object(y.jsx)("button",{onClick:function(){e.onSave({count:~~o.current,ranged:s.current,melee:l.current,unit:j})},children:r?"Save":"Add"})]})]})})}function N(e){var t=g("saves",[]),n=function(t){var n=function(e){return x(v("save_".concat(e)))}(t);n&&e.onLoad(n)};return Object(y.jsx)(B,{children:Object(y.jsxs)("div",{className:"kt-loader",children:[t.map((function(e){return Object(y.jsxs)("button",{onClick:function(){return n(e.id)},children:[e.name," | ",m.factions[e.faction].name]})})),Object(y.jsx)("button",{onClick:e.onCancel,children:"Cancel"})]})})}function B(e){var t=e.children;return Object(y.jsx)("div",{className:"kt-modal",children:Object(y.jsx)("div",{className:"inner",children:t})})}function F(e){var t=e.values,n=e.value,i=Object(a.useState)(n.current),r=Object(c.a)(i,2),o=r[0],s=r[1];function l(e){n.current=e,s(e)}return t.find((function(e){return e===o}))||l(t[0]),Object(y.jsx)("select",{value:o,onChange:function(e){return l(e.target.value)},children:t.map((function(e){return Object(y.jsx)("option",{children:e},e)}))})}function T(e){return Array.from(Array(e).keys())}function M(e,t){var n=t.filter((function(t){return t.type===e})).map((function(e){return e.uname}));return 0===n.length?["-"]:Object(s.a)(new Set(n))}function E(e,t){return e?t:null}var D=function(){return Object(y.jsx)(w,{})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};-1!==window.location.search.indexOf("reset")?(localStorage.clear(),window.location.replace("/")):(o.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root")),I())}},[[20,1,2]]]);
//# sourceMappingURL=main.952ca466.chunk.js.map