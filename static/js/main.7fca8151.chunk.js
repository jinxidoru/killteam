(this.webpackJsonpkillteam=this.webpackJsonpkillteam||[]).push([[0],{17:function(e,n,t){},18:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(10),i=t.n(c),s=(t(17),t(18),t(8)),o=t(2),l=t(11),u=1,d=void 0;function j(e,n,t,a,r){var c=a.split(/, /g),i=r.map((function(e){var t=Object(l.a)(e),a=t[0],r=t[1],i=t[2],s=t[3],o=t[4],d=t[5],j=t[6],b=t[7],f=t.slice(8),h=c.concat(b.split(/, /g)),m=f.filter((function(e){return 0===e[0]||1===e[0]})).map((function(e){var n=e[1].replace(/ \|.*$/,"");return{name:e[1],uname:n,type:e[0]?"m":"r",atk:e[2],ws:e[3],dam:e[4],cdam:e[5],sr:e[6]||null,cr:e[7]||null,secondary:e[8]||null}})),O=f.filter((function(e){return 3===e[0]})).map((function(e){return{name:e[1],cost:e[2],descr:e[3]}})),v=f.filter((function(e){return 2===e[0]})).map((function(e){return{name:e[1],descr:e[2]||"",on_weapon:e[1].endsWith("*")}}));return{id:u++,name:a,faction:n,keywords:h,move:r,apl:i,ga:s,df:o,sv:d,hp:j,weapons:m,actions:O,abilities:v}}));return{name:e,clan_label:t,units:i}}var b={tau:function(){var e=[3,"Markerlight",1,"See page 137"],n=[2,"Camouflage Field","Each time an enemy operative makes a shooting attack, unless it is within @0 of this operative or it is a subsequent attack made as a result of the Blast special rule, this operative is always treated as being in Cover for that shooting attack. While this operative has a Conceal order, it is always treated as having a Conceal order, regardless of any other rules (e.g. Vantage Point)."];return j("T'au Empire","hunter cadre","sept","t'au, <>",[["Fire warrior shas'la",3,2,1,3,4,7,"fire warrior, shas'la",[0,"Pulse blaster | Close range",4,4,4,5,"Rng @5, AP1"],[0,"Pulse blaster | Long range",4,4,3,4],[0,"Pulse carbine",4,4,4,5],[0,"Pulse rifle",4,4,4,5],[1,"Gun butt",3,5,2,3],e,n],["Fire warrior shas'ui",3,2,1,3,4,8,"leader, fire warrior, shas'ui",[0,"Pulse blaster | Close range",4,3,4,5,"Rng @5, AP1"],[0,"Pulse blaster | Long range",4,3,3,4],[0,"Pulse carbine",4,3,4,5],[0,"Pulse rifle",4,3,4,5],[1,"Gun butt",3,5,2,3]],["Pathfinder shas'la",3,2,1,3,5,7,"pathfinder, shas'la",[0,"Pulse carbine",4,4,4,5],[1,"Gun butt",3,5,2,3]],["Pathfinder (heavy gunner)",3,2,1,3,5,7,"pathfinder, heavy gunner",[0,"Ion rifle | Standard",5,4,4,5,"","P1"],[0,"Ion rifle | Overcharge",5,4,5,6,"AP1, Hot"],[0,"Rail Rifle",4,4,4,4,"AP1, Lethal 5+","MW2"],[1,"Gun butt",3,5,2,3]],["Pathfinder shas'ui",3,2,1,3,5,8,"leader, pathfinder, shas'ui",[0,"Pulse carbine",4,3,4,5],[1,"Gun butt",3,5,2,3],e],["Stealth battlesuit shas'ui",3,2,1,3,3,10,"fly, stealth battlesuit, shas'ui",[0,"Burst cannon",6,4,3,4,"Ceaseless, Fusillade"],[0,"Fusion blaster",4,4,6,3,"Rng @5, AP2","MW4"],[1,"Fists",4,5,2,3],n],["Stealth battlesuit shas'vre",3,2,1,3,3,11,"fly, leader, stealth battlesuit, shas'vre",[0,"Burst cannon",6,3,3,4,"Ceaseless, Fusillade"],[0,"Fusion blaster",4,4,6,3,"Rng @5, AP2","MW4"],[1,"Fists",4,4,2,3],n]])}(),space_marine:j("Space Marines","space marine","chapter","imperium, adeptus astartes, <>",[["Intercessor (warrior)",3,3,1,3,3,13,"primaris, intercessor, warrior",[0,"Auto bolt rifle",4,3,3,4,"Ceaseless"],[0,"Bolt rifle",4,3,3,4,d,"P1"],[0,"Stalker bolt rifle",4,3,3,4,"Heavy, AP1"],[1,"Fists",4,3,3,4]],["Intercessor sergeant",3,3,1,3,3,14,"primaris, leader, intercessor, sergeant",[0,"Auto bolt rifle",4,2,3,4,"Ceaseless"],[0,"Bolt pistol",4,2,3,4,"Rng @5"],[0,"Bolt rifle",4,2,3,4,"","P1"],[0,"Hand flamer",4,2,2,2,"Rng @5, Torrent @3"],[0,"Plasma Pistol | Standard",4,2,5,6,"Rng @5, AP1"],[0,"Plasma Pistol | Supercharge",4,2,5,6,"Rng @5, AP2, Hot"],[0,"Stalker bolt rifle",4,2,3,4,"Heavy, A:1"],[1,"Chainsword",4,3,4,5],[1,"Fists",4,3,3,4],[1,"Power fist",4,4,5,7,"Brutal"],[1,"Power weapon",4,3,4,6,"Lethal 5+"],[1,"Thunder hammer",4,4,5,6,"","Stun"]]]),ork:function(){var e=[2,"Kombi*","An operative equipped with this weapon is also equipped with a shoota."];return j("Orks","greenskin","clan","ork, <>",[["Boy (fighter)",3,2,1,3,5,10,"boy, fighter",[0,"Shoota",4,5,3,4],[0,"Slugga",4,5,3,4,"Rng @5"],[1,"Choppa",4,3,4,5],[1,"Fists",3,3,3,4]],["Boss Nob",3,2,1,3,4,13,"leader, boy, boss nob",[0,"Kombi-rokkit",5,5,4,5,"Kombi*, Limited, AP1","Splash 1"],[0,"Kombi-skorcha",6,2,2,2,"Kombi*, Limtied, Rng @5, Torrent @1"],[0,"Shoota",4,5,3,4,d,d,e[1]],[0,"Slugga",4,5,3,4,"Rng @5"],[1,"Big choppa",4,2,5,6],[1,"Choppa",4,2,4,5],[1,"Fists",3,2,3,4],[1,"Killsaw",4,3,5,7,d,"Rending"],[1,"Power klaw",4,3,5,7,"Brutal"],e],["Boy (gunner)",3,2,1,3,5,10,"boy, gunner",[0,"Big shoota",6,5,2,3,"Fusillade"],[0,"Rokkit launcha",5,5,4,5,"AP1","Splash 1"],[1,"Fists",3,3,3,4]],["Gretchin",3,2,2,3,6,5,"boy, gretchin",[0,"Gretchin blasta",3,4,2,3,"Rng @5"],[1,"Gretchin knife",3,5,1,2],[2,"Runt","This operative cannot be equipped with equipment. This operative cannot benefit from your Strategic and Tactical Ploys."]],["Clan kommando (fighter)",3,2,1,3,5,10,"clan kommando, fighter",[0,"Slugga",4,5,3,4,"Rng @5"],[1,"Choppa",4,3,4,5]],["Clan kommando nob",3,2,1,3,4,13,"leader, clan kommando, kommando nob",[0,"Slugga",4,4,3,4,"Rng @5"],[1,"Choppa",4,2,4,5],[1,"Power klaw",4,3,5,7,"Brutal"]],["Burna boy",3,2,1,3,5,10,"speshulist, burna boy",[0,"Burna",5,2,2,2,"Rng @5, Torrent @1"],[1,"Fists",3,3,3,4]],["Loota",3,2,1,3,5,10,"speshulist, loota",[0,"Deffgun",5,5,4,6],[1,"Fists",3,3,3,4]],["Spanner",3,2,1,3,5,11,"leader, speshulist, spanner",[0,"Big shoota",6,4,2,3,"Fusillade"],[0,"Kustom mega-blasta",4,4,5,6,"AP2, Hot"],[0,"Rokkit launcha",5,4,4,5,"AP1","Splash 1"],[1,"Fists",3,3,3,4]]])}()};var f={factions:b,random_faction:function(){return Object.keys(b).sort((function(){return Math.random()-.5}))[0]}},h=t(12);function m(e){e="kt_".concat(e);try{var n=localStorage.getItem(e);if(n)return JSON.parse(n)}catch(t){}return null}function O(e,n){var t=m(e);return t||(v(e,n),n)}function v(e,n){e="kt_".concat(e),localStorage.setItem(e,JSON.stringify(n))}function p(e){if(e){var n,t=f.factions[e.faction].units,a=Object(h.a)(e.units);try{var r=function(){var e=n.value,a=t.find((function(n){return n.name===e.unit.name}));a&&(e.unit=a)};for(a.s();!(n=a.n()).done;)r()}catch(c){a.e(c)}finally{a.f()}}return e}var x=t(0);function g(){var e=Object(a.useState)(0),n=Object(o.a)(e,2),t=n[0],r=n[1],c=function(e,n){var t=Object(a.useState)(e),r=Object(o.a)(t,2),c=r[0],i=r[1];return[c,function(e){i(e),n(e)}]}(p(m("autosave")),(function(){return r(0)})),i=Object(o.a)(c,2),s=i[0],l=i[1],u=function(){return r(0)},d=Object(x.jsx)(x.Fragment,{});s&&(d=Object(x.jsx)(C,{roster:s,onNew:function(){return r(1)},onLoad:function(){return r(2)}}));var j=B(!s||1===t,Object(x.jsx)(k,{onCreate:l,onCancel:u})),b=B(2===t,Object(x.jsx)(P,{onLoad:l,onCancel:u}));return Object(x.jsxs)(x.Fragment,{children:[d,j,b]})}function k(e){var n=Object(a.useState)(""),t=Object(o.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)((function(){return f.random_faction()})),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),b=j[0],h=j[1],m=f.factions[l].clan_label;return Object(x.jsx)(N,{children:Object(x.jsxs)("div",{className:"kt-create",children:[Object(x.jsx)("div",{children:"Name:"}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{value:r,onChange:function(e){return c(e.target.value)}})}),Object(x.jsxs)("div",{style:{textTransform:"capitalize"},children:[m,":"]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{value:b,onChange:function(e){return h(e.target.value)}})}),Object(x.jsx)("div",{children:"Faction:"}),Object(x.jsx)("div",{children:Object(x.jsx)("select",{value:l,onChange:function(e){return u(e.target.value)},children:Object.entries(f.factions).map((function(e){var n=Object(o.a)(e,2),t=n[0],a=n[1];return Object(x.jsx)("option",{value:t,children:a.name},t)}))})}),Object(x.jsxs)("div",{className:"buttons",children:[B(!!e.onCancel,Object(x.jsx)("button",{onClick:e.onCancel,children:"Cancel"})),Object(x.jsx)("button",{onClick:function(){e.onCreate({name:r.trim(),faction:l.trim(),clan:b.trim(),units:[],created:new Date,updated:new Date})},disabled:!r.trim()||!b.trim(),children:"Create"})]})]})})}function C(e){var n=Object(a.useState)(null),t=Object(o.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],j=e.roster,b=j.units;!function(e){e.updated=new Date,v("autosave",e)}(j);var h,m=f.factions[j.faction],p=(h=function(){var e=function(e){c(null),d(!1);var n=b.findIndex((function(e){return e===r}));-1===n?b.push(e):b[n]=e},n=function(e){if(c(null),d(!1),e){var n=b.findIndex((function(e){return e===r}));-1!==n&&b.splice(n,1)}};return r?Object(x.jsx)(y,{onSave:e,onCancel:n,faction:j.faction,conf:r}):Object(x.jsx)(y,{onSave:e,onCancel:n,faction:j.faction})},!!r||u?h():null);return Object(x.jsxs)("div",{children:[p,Object(x.jsxs)("div",{className:"kt-controls",children:[Object(x.jsx)("button",{onClick:e.onNew,children:"New"}),Object(x.jsx)("button",{onClick:function(){return function(e){var n,t=O("saves",[]),a=t.find((function(n){return n.name===e.name&&n.faction===e.faction}));a||(a={id:Math.max.apply(Math,[0].concat(Object(s.a)(t.map((function(e){return e.id})))))+1,name:e.name,faction:e.faction},t.push(a),v("saves",t)),v("save_".concat(null===(n=a)||void 0===n?void 0:n.id),e)}(j)},children:"Save"}),Object(x.jsx)("button",{onClick:e.onLoad,children:"Load"}),Object(x.jsx)("button",{onClick:function(){return d(!0)},children:"Add Operative"})]}),Object(x.jsxs)("div",{className:"kt-roster",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("b",{children:"Name"})," ",j.name,Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"Faction"})," ",m.name,Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:m.clan_label})," ",j.clan]}),Object(x.jsxs)("div",{className:"body",children:[Object(x.jsx)("div",{children:b.map((function(e,n){return Object(x.jsx)(w,{clan:j.clan,conf:e,onEdit:function(){return c(e)}},n)}))}),Object(x.jsx)(S,{units:b})]})]})]})}function w(e){var n=e.conf,t=n.unit,a=t.keywords.map((function(n){return", ".concat("<>"===n?e.clan:n)})),r=t.weapons.filter((function(e){return e.uname===n.ranged||e.uname===n.melee})),c=function(e){return!!r.find((function(n){return n.sr&&-1!==n.sr.indexOf(e)}))},i=t.weapons.filter((function(e){return null!==e.secondary&&c(e.secondary)||e.uname===n.ranged||e.uname===n.melee})),s=t.abilities.filter((function(e){return!e.on_weapon||c(e.name)}));return Object(x.jsxs)("div",{className:"kt-unit-info",children:[Object(x.jsx)("button",{className:"edit",onClick:e.onEdit,children:"EDIT"}),Object(x.jsxs)("div",{className:"name",children:[n.count?"( ".concat(n.count," ) "):"","\xa0",t.name]}),Object(x.jsxs)("div",{className:"keywords",children:[Object(x.jsx)("b",{children:t.faction}),a]}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsxs)("div",{className:"stats topline",children:[Object(x.jsx)("b",{children:"M"})," ",t.move," ",Object(x.jsx)("b",{children:"APL"})," ",t.apl," ",Object(x.jsx)("b",{children:"GA"})," ",t.ga," ",Object(x.jsx)("b",{children:"DF"})," ",t.df," ",Object(x.jsx)("b",{children:"SV"})," ",t.sv,"+ ",Object(x.jsx)("b",{children:"W"})," ",t.hp]}),i.map((function(e,n){return Object(x.jsxs)("div",{className:"weapon",children:[Object(x.jsxs)("div",{className:"wname",children:[Object(x.jsx)("div",{className:e.type}),e.name," \xa0\xa0"]}),Object(x.jsxs)("div",{className:"stats ",children:[Object(x.jsx)("b",{children:"A"})," ",e.atk," ",Object(x.jsx)("b",{children:"r"===e.type?"BS":"WS"})," ",e.ws,"+ ",Object(x.jsx)("b",{children:"D"})," ",e.dam,"/",e.cdam,Object(x.jsx)("br",{}),e.sr?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("b",{children:"SR"})," ",e.sr," "]}):null,e.cr?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("b",{children:"!"})," ",e.cr," "]}):null]})]},n)})),t.actions.map((function(e,n){return Object(x.jsxs)("div",{className:"extra",children:[Object(x.jsx)("div",{className:"i-action"}),Object(x.jsxs)("span",{children:[e.name," - ",e.cost," AP"]}),Object(x.jsxs)("span",{className:"descr",children:[" - ",e.descr]})]},n)})),s.map((function(e,n){return Object(x.jsxs)("div",{className:"extra",children:[Object(x.jsx)("div",{className:"i-ability"}),Object(x.jsx)("span",{children:e.name}),Object(x.jsxs)("span",{className:"descr",children:[" - ",e.descr]})]},n)}))]})]})}function S(e){var n=e.units,t=0,a=n.map((function(e){var n=e.unit,a=e.count;return Object(x.jsxs)("div",{className:"unit",children:[Object(x.jsx)("div",{className:"name",children:n.name}),R(a).map((function(e){return Object(x.jsxs)("div",{className:"pips",children:[R(Math.ceil(n.hp/2)).map((function(){return"O"})).join(""),"\xa0\xa0",R(Math.floor(n.hp/2)).map((function(){return"O"})).join("")]},t++)}))]},t++)}));return Object(x.jsx)("div",{className:"kt-dam-track",children:a})}function y(e){var n,t,r=e.conf,c=!!r,i=Object(a.useRef)(r?"".concat(r.count):"0"),s=Object(a.useRef)(r?r.ranged:""),l=Object(a.useRef)(r?r.melee:""),u=Object(a.useState)(0),d=Object(o.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(null===r||void 0===r?void 0:r.unit),m=Object(o.a)(h,2),O=m[0],v=m[1];if(!r){var p=f.factions[e.faction].units,g=function(e){b(e),v(p.find((function(n){return n.id===e})))};p.length&&!p.find((function(e){return e.id===j}))&&g(p[0].id),n=Object(x.jsx)(x.Fragment,{children:p.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:"Unit:"}),Object(x.jsx)("div",{children:Object(x.jsx)("select",{value:j,onChange:function(e){return g(~~e.target.value)},children:p.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.name},e.id)}))})})]}):null})}if(O){var k=O.weapons.filter((function(e){return!e.secondary})),C=A("r",k),w=A("m",k);t=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:"Count:"}),Object(x.jsx)("div",{children:Object(x.jsx)(F,{value:i,values:R(10).map((function(e){return"".concat(e+1)}))})}),Object(x.jsx)("div",{children:"Ranged:"}),Object(x.jsx)("div",{children:Object(x.jsx)(F,{value:s,values:C})}),Object(x.jsx)("div",{children:"Melee:"}),Object(x.jsx)("div",{children:Object(x.jsx)(F,{value:l,values:w})})]})}return Object(x.jsx)(N,{children:Object(x.jsxs)("div",{className:"kt-unit-editor",children:[n,t,Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)("button",{onClick:function(){return e.onCancel(!1)},children:"Cancel"}),B(c,Object(x.jsx)("button",{onClick:function(){return e.onCancel(!0)},children:"Delete"})),Object(x.jsx)("button",{onClick:function(){e.onSave({count:~~i.current,ranged:s.current,melee:l.current,unit:O})},children:c?"Save":"Add"})]})]})})}function P(e){var n=O("saves",[]),t=function(n){var t=function(e){return p(m("save_".concat(e)))}(n);t&&e.onLoad(t)};return Object(x.jsx)(N,{children:Object(x.jsxs)("div",{className:"kt-loader",children:[n.map((function(e){return Object(x.jsxs)("button",{onClick:function(){return t(e.id)},children:[e.name," | ",f.factions[e.faction].name]})})),Object(x.jsx)("button",{onClick:e.onCancel,children:"Cancel"})]})})}function N(e){var n=e.children;return Object(x.jsx)("div",{className:"kt-modal",children:Object(x.jsx)("div",{className:"inner",children:n})})}function F(e){var n=e.values,t=e.value,r=Object(a.useState)(t.current),c=Object(o.a)(r,2),i=c[0],s=c[1];function l(e){t.current=e,s(e)}return n.find((function(e){return e===i}))||l(n[0]),Object(x.jsx)("select",{value:i,onChange:function(e){return l(e.target.value)},children:n.map((function(e){return Object(x.jsx)("option",{children:e},e)}))})}function R(e){return Array.from(Array(e).keys())}function A(e,n){var t=n.filter((function(n){return n.type===e})).map((function(e){return e.uname}));return Object(s.a)(new Set(t))}function B(e,n){return e?n:null}var L=function(){return Object(x.jsx)(g,{})},M=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))};-1!==window.location.search.indexOf("reset")?(localStorage.clear(),window.location.replace("/")):(i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(L,{})}),document.getElementById("root")),M())}},[[20,1,2]]]);
//# sourceMappingURL=main.7fca8151.chunk.js.map